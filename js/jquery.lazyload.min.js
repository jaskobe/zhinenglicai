(function(c,b,a,e){var d=c(b);c.fn.lazyload=function(g){var f=this;var j;var h={threshold:0,failure_limit:0,event:"scroll",effect:"show",container:b,data_attribute:"original",skip_invisible:true,appear:null,load:null,placeholder:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsQAAA7EAZUrDhsAAAANSURBVBhXYzh8+PB/AAffA0nNPuCLAAAAAElFTkSuQmCC"};function i(){var k=0;f.each(function(){var l=c(this);if(h.skip_invisible&&!l.is(":visible")){return}if(c.abovethetop(this,h)||c.leftofbegin(this,h)){}else{if(!c.belowthefold(this,h)&&!c.rightoffold(this,h)){l.trigger("appear");k=0}else{if(++k>h.failure_limit){return false}}}})}if(g){if(e!==g.failurelimit){g.failure_limit=g.failurelimit;delete g.failurelimit}if(e!==g.effectspeed){g.effect_speed=g.effectspeed;delete g.effectspeed}c.extend(h,g)}j=(h.container===e||h.container===b)?d:c(h.container);if(0===h.event.indexOf("scroll")){j.bind(h.event,function(){return i()})}this.each(function(){var k=this;var l=c(k);k.loaded=false;if(l.attr("src")===e||l.attr("src")===false){if(l.is("img")){l.attr("src",h.placeholder)}}l.one("appear",function(){if(!this.loaded){if(h.appear){var m=f.length;h.appear.call(k,m,h)}c("<img />").bind("load",function(){var o=l.attr("data-"+h.data_attribute);l.hide();if(l.is("img")){l.attr("src",o)}else{l.css("background-image","url('"+o+"')")}l[h.effect](h.effect_speed);k.loaded=true;var n=c.grep(f,function(q){return !q.loaded});f=c(n);if(h.load){var p=f.length;h.load.call(k,p,h)}}).attr("src",l.attr("data-"+h.data_attribute))}});if(0!==h.event.indexOf("scroll")){l.bind(h.event,function(){if(!k.loaded){l.trigger("appear")}})}});d.bind("resize",function(){i()});if((/(?:iphone|ipod|ipad).*os 5/gi).test(navigator.appVersion)){d.bind("pageshow",function(k){if(k.originalEvent&&k.originalEvent.persisted){f.each(function(){c(this).trigger("appear")})}})}c(a).ready(function(){i()});return this};c.belowthefold=function(g,h){var f;if(h.container===e||h.container===b){f=(b.innerHeight?b.innerHeight:d.height())+d.scrollTop()}else{f=c(h.container).offset().top+c(h.container).height()}return f<=c(g).offset().top-h.threshold};c.rightoffold=function(g,h){var f;if(h.container===e||h.container===b){f=d.width()+d.scrollLeft()}else{f=c(h.container).offset().left+c(h.container).width()}return f<=c(g).offset().left-h.threshold};c.abovethetop=function(g,h){var f;if(h.container===e||h.container===b){f=d.scrollTop()}else{f=c(h.container).offset().top}return f>=c(g).offset().top+h.threshold+c(g).height()};c.leftofbegin=function(g,h){var f;if(h.container===e||h.container===b){f=d.scrollLeft()}else{f=c(h.container).offset().left}return f>=c(g).offset().left+h.threshold+c(g).width()};c.inviewport=function(f,g){return !c.rightoffold(f,g)&&!c.leftofbegin(f,g)&&!c.belowthefold(f,g)&&!c.abovethetop(f,g)};c.extend(c.expr[":"],{"below-the-fold":function(f){return c.belowthefold(f,{threshold:0})},"above-the-top":function(f){return !c.belowthefold(f,{threshold:0})},"right-of-screen":function(f){return c.rightoffold(f,{threshold:0})},"left-of-screen":function(f){return !c.rightoffold(f,{threshold:0})},"in-viewport":function(f){return c.inviewport(f,{threshold:0})},"above-the-fold":function(f){return !c.belowthefold(f,{threshold:0})},"right-of-fold":function(f){return c.rightoffold(f,{threshold:0})},"left-of-fold":function(f){return !c.rightoffold(f,{threshold:0})}})})(jQuery,window,document);